function slickPause(){$(".slider__inner").slick("slickPause")}function slickPlay(){$(".slider__inner").slick("slickPlay")}function navbarHeightDefine(){if($(".header__nav").hasClass("header__nav_active")&&$(".navbar_header").outerHeight()>0){const e=$(".navbar_header").outerHeight()+$(".header").outerHeight(!0);document.documentElement.clientHeight<e?$(".header__nav").css("height","auto"):$(".header__nav").css("height",`calc(100% - ${$(".header").outerHeight(!0)}px)`)}}function bodyInnerToggleClass({data:{action:e}}){"add"===e?$(".body-inner").addClass("body-inner_modal-active"):"remove"===e&&$(".body-inner").removeClass("body-inner_modal-active")}$(".slider__inner").on("init",(function(...e){const r=e[1].slideCount,o=e[1].currentSlide+1;$(".slider__total-number").html(r),$(".slider__current-number").html(o)})),$(".slider__inner").slick({slidesToShow:1,slidesToScroll:1,speed:2e3,dots:!0,autoplay:!0,autoplaySpeed:3500,pauseOnDotsHover:!0,appendDots:$(".slider__counter"),prevArrow:$(".slider__arrow-left"),nextArrow:$(".slider__arrow-right")}),$(".slider__inner").on("afterChange",(function(...e){const r=e[2]+1;$(".slider__current-number").html(r)})),$(".slider__menu").on("pointerover",(()=>{slickPause()})),$(".slider__menu").on("pointerout",(()=>{slickPlay()})),$(".slick-arrow").on("focus",(()=>{slickPause()})),$(".slick-arrow").on("blur",(()=>{slickPlay()})),$(window).resize(navbarHeightDefine),$(".burger-icon").on("click",(()=>{$(".burger-icon").toggleClass("burger-icon_active"),$(".body-inner").toggleClass("body-inner_burger-opened"),$(".header__nav").toggleClass("header__nav_active"),navbarHeightDefine()})),$(".register-btn").on("click",(()=>{bodyInnerToggleClass({data:{action:"add"}}),$(".modal-register").addClass("modal-register_active"),$(".modal-register__inner").addClass("modal-register__inner_active"),$(".modal-register").removeClass("modal-register_disabled")})),$(".modal-register__btn-close").on("click",(()=>{bodyInnerToggleClass({data:{action:"remove"}}),$(".modal-register").removeClass("modal-register_active"),$(".modal-register__inner").removeClass("modal-register__inner_active"),$(".modal-register").addClass("modal-register_disabled"),$(window).off("scrollend",bodyInnerToggleClass)})),$(".slide__register-btn").on("click",(()=>{bodyInnerToggleClass({data:{action:"remove"}}),window.scrollTo({top:0,left:0,behavior:"smooth"}),$(window).on("scrollend",{action:"add"},bodyInnerToggleClass)}));const formElement=document.querySelector(".modal-register__form");async function sendServer(e){e.preventDefault(),document.querySelector(".modal-register__send-info").innerHTML="",document.querySelector(".modal-register__send-info").classList.remove("modal-register__send-info_incorrect"),document.querySelector(".modal-register__send-info").classList.remove("modal-register__send-info_success");const r=new FormData(formElement);for(let[,e]of r)if(""===e)return document.querySelector(".modal-register__send-info").classList.add("modal-register__send-info_incorrect"),void document.querySelector(".modal-register__send-info").insertAdjacentText("afterbegin","Заполните, пожалуйста, все поля");let o,n=await fetch("/php/mail.php",{method:"POST",body:r});if(n.ok){let e=(await n.text()).split(",");"success"===e[0]?(o="Данные успешно отправлены!",document.querySelector(".modal-register__send-info").classList.add("modal-register__send-info_success")):-1!==e[1].indexOf("Invalid address:  (Reply-To):")?(o="Введите корректный e-mail",document.querySelector(".modal-register__send-info").classList.add("modal-register__send-info_incorrect")):(o="Ошибка при отправке данных",document.querySelector(".modal-register__send-info").classList.add("modal-register__send-info_incorrect"))}else o="Ошибка при отправке данных",console.log("Ошибка: "+n.status);document.querySelector(".modal-register__send-info").insertAdjacentText("afterbegin",o)}formElement.addEventListener("submit",sendServer);